<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="" />
	  <meta name="viewport" content="width=device-width, user-scalable=no">
	
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic|Nova+Square' rel='stylesheet' type='text/css'>
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

    <title>Write Python in Script Files</title>

    <link href="../stylesheets/codes.css" rel="stylesheet" type="text/css" />
    <link href="../stylesheets/style.css" rel="stylesheet" type="text/css" />
  </head>

  <body class="modules modules_module05">
    <!-- HEADER -->
        <header>
				<div class="wrap">
	    <h1 id="project_title">DH Bridge</h1>
	    <h2 class="tag">Encouraging Computational Thinking and Digital Skills in the Humanities</h2>

	    <nav id="pages">
	    	<a href="http://curriculum.dhbridge.org">Computational Thinking</a>
	    	<a href="http://dhbridge.org">About DH Bridge</a>
	    </nav>
	</div>
        </header> 
        <!-- MAIN CONTENT -->
        <div class="wrap">
            <div id="main">
              <article>
                		<section id="sidebar">
			<h2>Modules</h2>
			<ul>
			<li><a href="/modules/installation.html">Installation</a></li><li><a href="/modules/module01.html">Working with your Computer</a></li>
			<li><a href="/modules/module02.html">Thinking about Data</a></li>
			<li><a href="/modules/module03.html">Getting Data</a></li>
			<li><a href="/modules/module04.html">Working with the API</a></li>
			<li><a href="/modules/module05.html">Writing Script Files</a></li>
			<li><a href="/modules/module06.html">Phase Two</a></li>
			<li><a href="/modules/module07.html">Using Functions and Loops</a></li>
			<li><a href="/modules/module08.html">Using While-Loops</a></li>
			<li><a href="/modules/module09.html">Writing Results to File</a></li>
			<li><a href="/modules/module10.html">Working with Local Data</a></li>
			<li><a href="/modules/module11.html">Gathering a Subset of Data</a></li>
			<li><a href="/modules/module12.html">Analyzing a Subset of the Data</a></li>
			<li><a href="/modules/module13.html">Saving Results to a File</a></li>
			</ul>
		</section>

                <section id="content">
                        <h2>
          Write Python in Script Files
      </h2>
       <p>In this module, we will look at how to keep save our Python scripts in a text file. While the Interactive Shell is really useful for figuring things out, files are easier to share and enable us to keep our save our work as we go.</p>

<h3 id="writing-and-executing-script-files">Writing and Executing Script Files</h3>

<p>First, exit out of the Python Interactive Shell by running <span class="command">exit()</span>.</p>

<p>You should still be in the folder we made at the beginning of the day. Check using <span class="command">pwd</span>. </p>

<p>Now remember we created a file called "my_first_script.py"? Let's open that file again and remind ourselves of what we wrote.</p>

<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>open my_first_script.py
</pre></td></tr></tbody></table>
</div>

<p>and on Windows:</p>

<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>Start notepad++ my_first_script.py
</pre></td></tr></tbody></table>
</div>

<p>It should say 'print "Hello World"'. Now that you know something about Python functions, what do you expect this script to do?</p>

<p>Let's test it out! To execute a Python file, run the following in terminal:</p>

<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>python my_first_script.py
</pre></td></tr></tbody></table>
</div>

<p>Your terminal window should look something like:</p>

<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3</pre></td><td class="code"><pre>jeriwieringa$ python my_first_script.py
Hello World
jeriwieringa$
</pre></td></tr></tbody></table>
</div>

<p>Excellent! You just executed your first Python script!</p>

<h3 id="writing-our-dpyla-script">Writing our DPyLA Script</h3>

<p>Now let's recreate some of the work we did in the Interactive Shell in this script file.</p>

<p>Delete <span class="command">print "Hello World"</span> so that you're working with a clean file. </p>

<p>First, at the beginning of a Python file you need to list the libraries that we will be using. Similar to HTML, the computer will execute the code in the order it reads it, so it is important that your commands follow a logical structure down the page. </p>

<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>from dpla.api import DPLA
</pre></td></tr></tbody></table>
</div>

<p>Then we need to store our API key:</p>

<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>dpla = DPLA('YourAPIKey')
</pre></td></tr></tbody></table>
</div>

<p>Then we can write our search query:</p>

<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>result = dpla.search('cooking')
</pre></td></tr></tbody></table>
</div>

<p>Save the file and go back to Terminal. Run </p>

<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>python my_first_script.py
</pre></td></tr></tbody></table>
</div>

<p>You should notice that your computer works for awhile and then returns to normal, but doesn't tell you anything about what it did. To see results, we can use the print function again.</p>

<p>Open your script file again (<span class="command">open my_first_script.py</span>or <span class="command">Start notepad++ my_first_script.py</span>). </p>

<p>Work with your group to add another line to the file that uses the print function to display one item from your search. </p>

<p>Print is a very useful tool for checking on your script as it moves through your commands. You can use "print" to make sure your query is returning what you wanted, that your code is parsing as you expect, and to identify where things go wrong. </p>

<h3 id="anatomy-of-a-python-script-file">Anatomy of a Python Script File</h3>

<p>Just like when we are writing papers or structuring an argument, order matters in our script files. The computer will execute the code in the order it encounters it.</p>

<p>One good way to keep your code organized and avoid some organization caused bugs is to follow a set pattern when constructing your scripts. </p>

<p>First, at the top of your files, place the list of libraries you're importing. This way they are ready for use throughout the script. We did then when we started with <span class="command">from dpla.api import DPLA</span>.</p>

<p>Next, declare (or set) the variables (names) that you will use through the script. In code-speak, these are set at the "global scope" meaning that they are available to all functions in the file. We did this when we assigned our api key to the "dpla" variable with <span class="command">dpla = DPLA("YourAPIKey")</span> and when we saved our search to "results" with <span class="command">result = dpla.search('cooking')</span>.</p>

<p>After the variables, we will put our functions. Functions are like mini-scripts or packets of code that do one job. We can then combine functions to create more complicated programs. We will add some functions to our script in the next  modules.</p>

<p>Finally, at the send of the file, we put the "calls to the functions" or commands to execute functions. To do this, we use the function name and (usually) a "()". One exception is the print function, which doesn't require the () marks in this version of Python.* We called the print function to print one item from our search results. It is important to include the functions in the order that you want them to be run.</p>

<h3 id="what-weve-learned">What We've Learned</h3>

<ul>
  <li>To execute Python scripts in the Terminal</li>
  <li>To write our commands in the order they should be executed</li>
  <li>To use print to display the results of our scripts</li>
</ul>

<p>*Python 3 does require the use of () for print, making it more consistent with the Python sytax for functions.</p>



                </section>
              </article>
  			   </div>
  		</div>
  		
  		<footer>
  				<div class="wrap">
		<div id="rights">
		    <p>&copy; CC-BY 2014</p>
		    <p>The DH Bridge curriculum is supported by a microgrant from the <a href="http://ach.org/"><img src="http://dhbridge.org/images/ach-logo.png" width=50px ></a></p>
		</div>

	    <div id="contact">
	        <a href="mailto:bridgingdh@gmail.com"><i class="fa fa-paper-plane"></i></a>
	        <a href="https://twitter.com/dhbridge"><i class="fa fa-twitter"></i></a>
	        <a href="https://github.com/dhbridge/curriculum"><i class="fa fa-github"></i></a>
	    </div>
	</div>
  		</footer>

  </body>
</html>