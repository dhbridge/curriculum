<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="" />
	  <meta name="viewport" content="width=device-width, user-scalable=no">
	
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic|Nova+Square' rel='stylesheet' type='text/css'>
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

    <title>Moving to Phase Two</title>
    
<!--     <link href="/stylesheets/style.css" rel="stylesheet" type="text/css">
 -->    <link href="http://dhbridge.org/curriculum/stylesheets/style.css" rel="stylesheet" type="text/css">
    
  </head>

  <body class="modules modules_module07-phasetwo">
    <!-- HEADER -->
        <header>
				<div class="wrap">
	    <h1 id="project_title">DH Bridge</h1>
	    <h2 class="tag">Encouraging Computational Thinking and Digital Skills in the Humanities</h2>

	    <nav id="pages">
	    	<a href="http://dhbridge.org/curriculum">Computational Thinking</a>
	    	<a href="http://dhbridge.org">About DH Bridge</a>
	    </nav>
	</div>
        </header> 
        <!-- MAIN CONTENT -->
        <div class="wrap">
            <div id="main">
              <article>
                		<section id="sidebar">
			<h3>Modules</h3>
			<ul>
				<li><a href="http://dhbridge.org/curriculum/modules/module01-installation.html">Installation</a></li>
				<li><a href="http://dhbridge.org/curriculum/modules/module02-terminal.html">Working with your Computer</a></li>
				<li><a href="http://dhbridge.org/curriculum/modules/module03-data.html">Thinking about Data</a></li>
				<li><a href="http://dhbridge.org/curriculum/modules/module04-get_data.html">Getting Data</a></li>
				<li><a href="http://dhbridge.org/curriculum/modules/module05-complex_requests.html">Working with the API</a></li>
				<li><a href="http://dhbridge.org/curriculum/modules/module06-use_editor.html">Writing Script Files</a></li>
				<li><a href="http://dhbridge.org/curriculum/modules/module07-phasetwo.html">Phase Two</a></li>
				<li><a href="http://dhbridge.org/curriculum/modules/module08-functionsandloops.html">Functions and Loops</a></li>
				<li><a href="http://dhbridge.org/curriculum/modules/module09-whileloop.html">While Loops</a></li>
				<li><a href="http://dhbridge.org/curriculum/modules/module10-write.html">Writing Results to File</a></li>
			</ul>
		</section>

                <section id="content">
                        <h3>
          Moving to Phase Two
      </h3>
       <p>At the half-way point, it is stop briefly and think through what we have already learned. So far, you have learned to talk to your computer using the terminal. You've interacted with Python, a programming language and used Python to execute a few commands. You've also learned how to use Pip to add additional libraries to Python, and thought about using libraries like lego blocks or cake mix to create new programs. </p>

<p>You've also learned about data and APIs. We looked at JSON as a way of structuring data and thought about what it means to represent things in this format. Then, we looked at the DPLA api and learned how to leverage libraries like DPyLA to use those APIs in our code. Finally, we saved our code in a python file that we learned how to execute in the terminal.</p>

<p>Well Done!</p>

<p>So far you have been writing code that does one thing: it get search results or prints a particular item. The power of code, however, is being able to do the same thing to a series of items and it is thinking in terms of iterating through a series that is at the core of computational thinking. To do this, we will learn two very powerful programming concepts: functions and loops.</p>

<h3 id="asking-questions-of-our-data">Asking Questions of Our Data</h3>

<p>We have been able to do a lot with filtering the data by subject headings, by geographic space, and by contributor. But what if we want to ask questions about how the materials are described across all 10,000+ items associated with "cooking"? Say we are interested in how those descriptions of items related to cooking are gendered. How would we investigate patterns across the entirety of the DPLA's holdings related to "cooking"?</p>

<p>There are many ways one could go about investigating the descriptions. Work with your table to brain-storm a couple of approaches.</p>

<h3 id="adding-parameters-to-the-query">Adding Parameters to the Query</h3>

<p>To start, we need to restructure our query so that we can control the number of items and the "page" we get the data from. Remember that the API by default gives us 10 items at a time. We can pass a variable to get up to 500 items at a time, but there were 10,909 items associated with "cooking".</p>

<p>Open your "my_first_script.py" file. Looking at the line that says </p>

<pre><code>result = dpla.search('cooking')
</code></pre>

<p>we can change the number of items we get back by adding an additional parameter to what we pass to dpla.search. Looking at the documentation, we learn that the syntax for setting the number of items is <span class="command">page_size=</span> and the number of items we want. To get 50 items rather than 10, change that line to:</p>

<pre><code>result = dpla.search('cooking', page_size=50)
</code></pre>

<p>To check that this worked, let's add a line telling the computer to print out the 40th item:</p>

<pre><code>print result.items[39]
</code></pre>

<p>Remember, counting within a list begins at 0.</p>

<p>Use the <a href="https://github.com/bibliotechy/DPyLA">documentation</a> and your table to add another parameter to get the information from page 3.</p>

<h3 id="setting-up-a-variable">Setting Up a Variable</h3>

<p>To get all 10,000+ items associated with cooking, we need to do two things: we need to get the items all of the pages and we need a place to store them, so that as we get new items, our collections grows.</p>

<p>Let's tackle the second problem first. Remember back to variables? Variables are names we used to hold values. We can also use variables to hold lists. For example, I could create a list "fruit" that has the values "apple, orange, banana" by doing the following:</p>

<pre><code>fruit = ["apple", "orange", "banana"]
</code></pre>

<p>now if I ask for the second item in fruit</p>

<pre><code>fruit[1]
</code></pre>

<p>I will get back "orange".</p>

<p>We are going to use a similar structure to save all of the items we get back from the DPLA.</p>

<p>Go back to "my_first_script.py". Comment out the line <span class="command">result = dpla.search('cooking', page_size=50)</span> by placing a # sign at the front of the line. This tells the computer to skip this line. Also comment out the line you wrote to print out one of the items.</p>

<p>Your file should look something like this: </p>

<pre><code>from dpla.api import DPLA

dpla = DPLA('YourKeyHere')

# result = dpla.search('cooking')
# print result.items[1]
</code></pre>

<p>Now, let's create a new variable, "all_records" and set it equal to an empty list.</p>

<p>To do this, add a new line:</p>

<pre><code>all_records = []
</code></pre>

<p>This tells the computer that we have a variable, "all_records", that this variable will hold a list, and that we currently have no items in that list.</p>

<p>Now that we have a place to store our values, we now have to tell the computer to get the search results from each page and save those results to the "all_records" list.</p>

<h3 id="what-we-learned">What We Learned</h3>

<ul>
  <li>To add additional parameters to our API call</li>
  <li>To create an empty list</li>
  <li>To comment-out code that we don't want to run, but want to keep</li>
</ul>


                </section>
              </article>
  			   </div>
  		</div>
  		
  		<footer>
  				<div class="wrap">
		<div id="rights">
		    <p>&copy; CC-BY 2014</p>
		    <p>The DH Bridge curriculum is supported by a microgrant from the <a href="http://ach.org/"><img src="http://dhbridge.org/images/ach-logo.png" width=50px ></a></p>
		</div>

	    <div id="contact">
	        <a href="mailto:bridgingdh@gmail.com"><i class="fa fa-paper-plane"></i></a>
	        <a href="https://twitter.com/dhbridge"><i class="fa fa-twitter"></i></a>
	        <a href="https://github.com/dhbridge/curriculum"><i class="fa fa-github"></i></a>
	    </div>
	</div>
  		</footer>

  </body>
</html>